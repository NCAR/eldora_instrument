# This file was generated by `guic' from `ColorWdw.G'.

# Parameters.

PROGRAM = ColorWdw
SOURCES.cc = 
SOURCES.h = 
SOURCES.G = ColorWdw.G
STUBS.G = ColorWdw.G

# Derived parameters.

SOURCES = \
	$(SOURCES.G) \
	$(SOURCES.h) \
	$(SOURCES.l) \
	$(SOURCES.y) \
	$(SOURCES.cc)

TARGETS.cc = \
	ColorMain.cc ColorWdw.cc ColorWdwHandlers.cc \
	ColorSet.cc ColorSetClnt.cc xdr_ColorCmd.cc

TARGETS.h = \
	ColorWdw.hh ColorSet.hh

TARGETS.other = \
	$(SOURCES.G:%.G=%.info)

TARGETS = \
	$(TARGETS.other) \
	$(TARGETS.h) \
	$(TARGETS.cc)

OBJECTS = \
	$(TARGETS.cc:%.cc=%.o)

VXOBJS = xdr_ColorCmd68k.o ColorSetSvr.o ColorSvr.o colorset.o
CC68KFLAGS = -O2 -I/vx/h -I../../include -I/ELDORA/vx/c++/include -DWRS

# Compiler flags.

CCFLAGS += -fast -pipe
CCFLAGS += -DNO_XVPS
CPPFLAGS += -I$(UITHOME)/include/c++ -I$(OPENWINHOME)/include \
	-I/ELDORA/unix/c++/FileBrowser -I../../include
LDFLAGS += -s  /ELDORA/unix/c++/FileBrowser/FBlib.o
LDFLAGS += -L$(UITHOME)/lib -L/X/X11/lib -L$(OPENWINHOME)/lib
LDLIBS += -lUIC -lxview -lolgx -lX11
LDLIBS += -lm

# Standard targets.

.KEEP_STATE:

all:	 $(PROGRAM)
objects: $(TARGETS.cc) $(TARGETS.h) $(OBJECTS)
sources: $(SOURCES)
targets: $(SOURCES) $(TARGETS)

$(PROGRAM): $(TARGETS.cc) $(TARGETS.h) $(OBJECTS)
	$(LINK.cc) -o $(PROGRAM) $(OBJECTS) $(LDLIBS)

clean:
	$(RM) $(SOURCES.G:%.G=%_ui.cc) $(TARGETS.other) $(TARGETS.h) $(OBJECTS) *.BAK *.delta core

# Targets to be used by a certain CASE tool.

stest: $(SOURCES.cc) $(TARGETS.cc) $(TARGETS.h) $(OBJECTS)
	#load $(CCFLAGS) $(CPPFLAGS) $(LDFLAGS) $(TARGET_ARCH) \
		-o $(PROGRAM) $(SOURCES.cc) $(TARGETS.cc) $(LDLIBS)
	#link

%_ui.cc: %.G
	$(UITHOME)/bin/guic  $*

%_ui.h: %_ui.cc
	@touch $@

%_stubs.cc: %_ui.cc
	@touch $@

%.info: %_ui.cc
	@touch $@

xdr_ColorCmd68k.o:
	gcc68 $(CC68KFLAGS) -o $@ -c xdr_ColorCmd.cc

ColorSetSvr.o:
	gcc68 -I/vx/h -O -DWRS -c ColorSetSvr.c

ColorSvr.o:
	gcc68 $(CC68KFLAGS) -c ColorSvr.cc

colorset.o:
	gcc68 $(CC68KFLAGS) -c colorset.cc

vxSvr.o: $(VXOBJS)
	ld68k -X -r -o $@ $(VXOBJS)
